<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>商品栏</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Sublime project">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" th:href="@{/styles/bootstrap4/bootstrap.min.css}">
    <link th:href="@{/plugins/font-awesome-4.7.0/css/font-awesome.min.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/OwlCarousel2-2.2.1/owl.carousel.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/OwlCarousel2-2.2.1/owl.theme.default.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/OwlCarousel2-2.2.1/animate.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/styles/categories.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/styles/categories_responsive.css}">
</head>
<body  onload='init()'>
<!--隐藏的一级菜单id,用于存放数据-->
<p style="display: none;" id="theFirstId" th:text="${id}"></p>
<!--隐藏的二级菜单,用于存放数据-->
<p style="display: none;" id="theList" th:text="${list[0].category2Id}"></p>
<div class="super_container">

    <!-- Header -->

    <header class="header">
        <div class="header_container">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="header_content d-flex flex-row align-items-center justify-content-start">
                            <div class="logo"><a href="#">Octopus'Shop.</a></div>

                            <nav class="main_nav">
                                <ul>
                                    <li class="hassubs active">
                                        <a th:href="@{/home}">首页</a>
                                        <ul>
                                            <span for="1">登陆</span>
                                            <li><a th:href="@{/login}">Login</a></li>
                                            <span for="2">收藏夹</span>
                                            <li><a th:href="@{/collection}">Collection</a></li>
                                            <span for="3">购物车</span>
                                            <li><a th:href="@{/cart}">cart</a></li>
                                            <span for="4">订单</span>
                                            <li><a th:href="@{/order}">Order</a></li>
                                            <span for="5">联系我们</span>
                                            <li><a th:href="@{/contact}">contact</a></li>
                                        </ul>
                                    </li>
                                    <li class="hassubs">
                                        <a href="#">二级商品分类</a>
                                        <ul>
                                            <li th:each="m : ${list}">
                                                <a th:text="${m.category2Name}"
                                                   th:href="'javascript:category('+${m.category2Id}+')'">Category</a>
                                                <p style="display: none;" id="category2Id" th:text="${m.category2Id}"></p>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="hassubs">
                                        <a href="#">一级菜单分类</a>
                                        <ul id="categories">
                                            <li><a th:href="@{/findCategory2/1}" id="theOne">电器</a></li>
                                            <li><a th:href="@{/findCategory2/2}" id="theTwo">电器</a></li>
                                            <li><a th:href="@{/findCategory2/3}" id="theThree">电器</a></li>
                                            <li><a th:href="@{/findCategory2/4}" id="theFour">电器</a></li>
                                            <li><a th:href="@{/findCategory2/5}" id="theFive">电器</a></li>
                                            <li><a th:href="@{/findCategory2/6}" id="theSix">电器</a></li>
                                            <li><a th:href="@{/findCategory2/7}" id="theSenven">电器</a></li>
                                            <li><a th:href="@{/findCategory2/8}" id="theEight">电器</a></li>
                                        </ul>
                                    </li>
                                    <li><a th:href="@{/order}">订单</a></li>
                                    <li><a th:href="@{/contact}">联系我们</a></li>
                                </ul>
                            </nav>
                            <div class="header_extra ml-auto">
                                <div class="shopping_cart">
                                    <a th:href="@{/findProductFromCart}">
                                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg"  x="0px" y="0px"
												 viewBox="0 0 489 489" style="enable-background:new 0 0 489 489;" xml:space="preserve">
											<g>
												<path d="M440.1,422.7l-28-315.3c-0.6-7-6.5-12.3-13.4-12.3h-57.6C340.3,42.5,297.3,0,244.5,0s-95.8,42.5-96.6,95.1H90.3
													c-7,0-12.8,5.3-13.4,12.3l-28,315.3c0,0.4-0.1,0.8-0.1,1.2c0,35.9,32.9,65.1,73.4,65.1h244.6c40.5,0,73.4-29.2,73.4-65.1
													C440.2,423.5,440.2,423.1,440.1,422.7z M244.5,27c37.9,0,68.8,30.4,69.6,68.1H174.9C175.7,57.4,206.6,27,244.5,27z M366.8,462
													H122.2c-25.4,0-46-16.8-46.4-37.5l26.8-302.3h45.2v41c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5v-41h139.3v41
													c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5v-41h45.2l26.9,302.3C412.8,445.2,392.1,462,366.8,462z"/>
											</g>
										</svg>
                                        <div>Cart <span id="cartCount"></span></div>
                                    </a>
                                </div>

                                <div class="search">
                                    <div class="search_icon">
                                        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"  x="0px" y="0px"
										viewBox="0 0 475.084 475.084" style="enable-background:new 0 0 475.084 475.084;"
										 xml:space="preserve">
										<g>
											<path d="M464.524,412.846l-97.929-97.925c23.6-34.068,35.406-72.047,35.406-113.917c0-27.218-5.284-53.249-15.852-78.087
												c-10.561-24.842-24.838-46.254-42.825-64.241c-17.987-17.987-39.396-32.264-64.233-42.826
												C254.246,5.285,228.217,0.003,200.999,0.003c-27.216,0-53.247,5.282-78.085,15.847C98.072,26.412,76.66,40.689,58.673,58.676
												c-17.989,17.987-32.264,39.403-42.827,64.241C5.282,147.758,0,173.786,0,201.004c0,27.216,5.282,53.238,15.846,78.083
												c10.562,24.838,24.838,46.247,42.827,64.234c17.987,17.993,39.403,32.264,64.241,42.832c24.841,10.563,50.869,15.844,78.085,15.844
												c41.879,0,79.852-11.807,113.922-35.405l97.929,97.641c6.852,7.231,15.406,10.849,25.693,10.849
												c9.897,0,18.467-3.617,25.694-10.849c7.23-7.23,10.848-15.796,10.848-25.693C475.088,428.458,471.567,419.889,464.524,412.846z
												 M291.363,291.358c-25.029,25.033-55.148,37.549-90.364,37.549c-35.21,0-65.329-12.519-90.36-37.549
												c-25.031-25.029-37.546-55.144-37.546-90.36c0-35.21,12.518-65.334,37.546-90.36c25.026-25.032,55.15-37.546,90.36-37.546
												c35.212,0,65.331,12.519,90.364,37.546c25.033,25.026,37.548,55.15,37.548,90.36C328.911,236.214,316.392,266.329,291.363,291.358z
												"/>
										</g>
									</svg>
                                    </div>
                                </div>
                                <div class="hamburger"><i class="fa fa-bars" aria-hidden="true"></i></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Search Panel -->
        <div class="search_panel trans_300">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="search_panel_content d-flex flex-row align-items-center justify-content-end">
                            <form action="#">
                                <input type="text" class="search_input" placeholder="Search" required="required">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Social -->
        <div class="header_social">
            <ul>
                <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
            </ul>
        </div>
    </header>

    <!-- Menu -->

    <div class="menu menu_mm trans_300">
        <div class="menu_container menu_mm">
            <div class="page_menu_content">

                <div class="page_menu_search menu_mm">
                    <form action="#">
                        <input type="search" required="required" class="page_menu_search_input menu_mm"
                               placeholder="Search for products...">
                    </form>
                </div>

                <ul class="page_menu_nav menu_mm">
                    <li class="page_menu_item has-children menu_mm">
                        <a href="index.html">Home<i class="fa fa-angle-down"></i></a>
                        <ul class="page_menu_selection menu_mm">
                            <li class="page_menu_item menu_mm"><a th:href="categories.html">商品二级分类<i
                                    class="fa fa-angle-down"></i></a></li>
                            <li class="page_menu_item menu_mm"><a href="product.html">Product<i
                                    class="fa fa-angle-down"></i></a></li>
                            <li class="page_menu_item menu_mm"><a href="cart.html">Cart<i class="fa fa-angle-down"></i></a>
                            </li>
                            <li class="page_menu_item menu_mm"><a href="checkout.html">Checkout<i
                                    class="fa fa-angle-down"></i></a></li>
                            <li class="page_menu_item menu_mm"><a href="contact.html">Contact<i
                                    class="fa fa-angle-down"></i></a></li>
                        </ul>
                    </li>
                    <li class="page_menu_item has-children menu_mm">
                        <a href="categories.html">Categories<i class="fa fa-angle-down"></i></a>
                        <ul class="page_menu_selection menu_mm">
                            <li class="page_menu_item menu_mm"><a href="categories.html">Category<i
                                    class="fa fa-angle-down"></i></a></li>
                            <li class="page_menu_item menu_mm"><a href="categories.html">Category<i
                                    class="fa fa-angle-down"></i></a></li>
                            <li class="page_menu_item menu_mm"><a href="categories.html">Category<i
                                    class="fa fa-angle-down"></i></a></li>
                            <li class="page_menu_item menu_mm"><a href="categories.html">Category<i
                                    class="fa fa-angle-down"></i></a></li>
                        </ul>
                    </li>
                    <li class="page_menu_item menu_mm"><a href="index.html">Accessories<i class="fa fa-angle-down"></i></a>
                    </li>
                    <li class="page_menu_item menu_mm"><a href="#">Offers<i class="fa fa-angle-down"></i></a></li>
                    <li class="page_menu_item menu_mm"><a href="contact.html">Contact<i
                            class="fa fa-angle-down"></i></a></li>
                </ul>
            </div>
        </div>

        <div class="menu_close"><i class="fa fa-times" aria-hidden="true"></i></div>

        <div class="menu_social">
            <ul>
                <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
            </ul>
        </div>
    </div>

    <!-- Home -->

    <div class="home">
        <div class="home_container">
            <div class="home_background" style="background-image:url(/images/categories.jpg)" id="homeImg"></div>
            <div class="home_content_container">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <div class="home_content">
                                <div class="home_title"><span id="homeName">Smart Phones</span><span>.</span></div>
                                <div class="home_text" id="homeDescription"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                                    Nullam a ultricies metus. Sed nec molestie eros. Sed viverra velit venenatis
                                    fermentum luctus.</p></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Products -->

    <div class="products">
        <div class="container">
            <div class="row">
                <div class="col">

                    <!-- Product Sorting -->
                    <div class="sorting_bar d-flex flex-md-row flex-column align-items-md-center justify-content-md-start">
                        <div class="results">可以展示 <span>12</span> 个商品</div>
                        <div class="sorting_container ml-md-auto">
                            <div class="sorting">
                                <ul class="item_sorting">
                                    <li>
                                        <span class="sorting_text">Sort by</span>
                                        <i class="fa fa-chevron-down" aria-hidden="true"></i>
                                        <ul>
                                            <li class="product_sorting_btn"
                                                data-isotope-option='{ "sortBy": "original-order" }'>
                                                <span>Default</span></li>
                                            <li class="product_sorting_btn" data-isotope-option='{ "sortBy": "price" }'>
                                                <span>Price</span></li>
                                            <li class="product_sorting_btn" data-isotope-option='{ "sortBy": "stars" }'>
                                                <span>Name</span></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" style="position: relative; height: auto;">
                <div class="col" style="position: relative; height: auto;">
                    <!--商品-->
                    <div class="product_grid" id="product" style="position: relative; height: 100%; width: 1140px;">
                    </div>
                </div>
            </div>
            <div class="product_pagination">
                <ul>
                    <li class="active"><a th:onclick="'javascript:btnPage('+'-1'+')'" id="prePage">上一页</a></li>
                    <li class="active" ><a th:onclick="'javascript:btnPage('+'1'+')'" id="one">01.</a></li>
                    <li class="active"><a th:onclick="'javascript:btnPage('+'2'+')'"   id="two">02.</a></li>
                    <li class="active" ><a th:onclick="'javascript:btnPage('+'3'+')'"  id="three">03.</a></li>
                    <li class="active" ><a  th:onclick="'javascript:btnPage('+'+1'+')'"  id="nextPage">下一页</a></li>
                </ul>
                <span>总<span id="pages">1</span>页     总共<span id="total">1</span>条数据</span>

                <div class="row">
                    <div class="col-lg-6">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="选择第几页">
                            <span class="input-group-btn">
                                        <a class="btn btn-default" type="button" href="">跳转</a>
                                    </span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Icon Boxes -->

    <div class="icon_boxes">
        <div class="container">
            <div class="row icon_box_row">

                <!-- Icon Box -->
                <div class="col-lg-4 icon_box_col">
                    <div class="icon_box">
                        <div class="icon_box_image"><img th:src="@{/images/icon_1.svg}" alt=""></div>
                        <div class="icon_box_title">全球范围内免费送货</div>
                        <div class="icon_box_text">
                            <p>免费送货到家服务是指商家签署了免费送货到家服务协议，承诺为消费者提供免费送货到家服务，提供所销售商品送货至买家所在房屋。当商品售出时，如商家违背服务协议收取搬楼费用，买家可要求商家退还搬楼费用.</p>
                        </div>
                    </div>
                </div>

                <!-- Icon Box -->
                <div class="col-lg-4 icon_box_col">
                    <div class="icon_box">
                        <div class="icon_box_image"><img th:src="@{/images/icon_2.svg}" alt=""></div>
                        <div class="icon_box_title">免费退货</div>
                        <div class="icon_box_text">
                            <p>如商家拒绝退还，买家可申请维权。商城将根据先行赔付服务规定，对买家付出的搬楼费用进行先行赔付.</p>
                        </div>
                    </div>
                </div>

                <!-- Icon Box -->
                <div class="col-lg-4 icon_box_col">
                    <div class="icon_box">
                        <div class="icon_box_image"><img th:src="@{/images/icon_3.svg}" alt=""></div>
                        <div class="icon_box_title">客服24小时在线</div>
                        <div class="icon_box_text">
                            <p>在线客服或称做网上前台，是一种以网站为媒介，向互联网访客与网站内部员工提供即时沟通的页面通信技术。在线客服是网络营销的基础.</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Newsletter -->

    <div class="newsletter">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="newsletter_border"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <div class="newsletter_content text-center">
                        <div class="newsletter_title">订阅我们的新闻</div>
                        <div class="newsletter_text"><p>您将随时收到我们对您的实时商品推荐.</p></div>
                        <div class="newsletter_form_container">
                            <form id="newsletter_form" class="newsletter_form" onsubmit="return saveReport();">
                                <input type="email" class="newsletter_input" required="required"  id="email">
                                <button class="newsletter_button trans_200"  th:onclick="subscription()"><span>订阅</span></button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->

    <div class="footer_overlay"></div>
    <footer class="footer">
        <div class="footer_background" style="background-image:url(/images/footer.jpg)"></div>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="footer_content d-flex flex-lg-row flex-column align-items-center justify-content-lg-start justify-content-center">
                        <div class="footer_logo"><a href="#">Octopus'Shop.</a></div>
                        <div class="copyright ml-auto mr-auto">
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                            Copyright &copy;<script>document.write(new Date().getFullYear());</script>
                            All rights reserved | <i class="fa fa-heart-o" aria-hidden="true"></i> by <a
                                href="https://colorlib.com" target="_blank">Zhangyk</a>
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></div>
                        <div class="footer_social ml-lg-auto">
                            <ul>
                                <li><a href="#"><i class="fa fa-qq" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-weixin" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-chrome" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-weibo" aria-hidden="true"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</div>

<script th:src="@{/js/jquery-3.2.1.min.js}" type="text/javascript"></script>
<script th:src="@{/styles/bootstrap4/popper.js}" type="text/javascript"></script>
<script th:src="@{/styles/bootstrap4/bootstrap.min.js}" type="text/javascript"></script>
<script th:src="@{/plugins/greensock/TweenMax.min.js}" type="text/javascript"></script>
<script th:src="@{/plugins/greensock/TimelineMax.min.js}" type="text/javascript"></script>
<script th:src="@{/plugins/scrollmagic/ScrollMagic.min.js}" type="text/javascript"></script>
<script th:src="@{/plugins/greensock/animation.gsap.min.js}"></script>
<script th:src="@{/plugins/greensock/ScrollToPlugin.min.js}"></script>
<script th:src="@{/plugins/OwlCarousel2-2.2.1/owl.carousel.js}"></script>
<script th:src="@{/plugins/Isotope/isotope.pkgd.min.js}"></script>
<script th:src="@{/plugins/easing/easing.js}"></script>
<script th:src="@{/plugins/parallax-js-master/parallax.min.js}"></script>
<script th:src="@{/js/categories.js}"></script>
<script>
    //当前页面
    var pageNum;
    //每张页面展示的数量大小
    var pageSize=12;
    var category2Id;
    var id;

    //商品展示
    function category(data) {
        //获取上级目录(一级菜单目录)
        id = $("#theFirstId").text();
        //获取当前目录(二级菜单目录)
        category2Id = $("#theFirstId").text();
        console.log("category2Id:",category2Id);
        console.log("id:", id);
        console.log(data);
        var req = {
            "category2Id": data,
            "category1Id": id,
            "pageNum":1
        };
        $.ajax({
            type: "post",
            //数据，json字符串
            data: JSON.stringify(req),
            contentType: "application/json;charset=UTF-8",
            url: "/findProduct",
            success: function (result) {
                console.log("result:", result);
                pageNum=result.data.pageNum;
                var arr=result.data.list;
                console.log("arr",arr);
                $("#pages").text(result.data.pages);
                $("#total").text(result.data.total);
                $("#homeName").text(arr[0].productName);
                $("#homeDescription").text(arr[0].outline);
                $("#homeImg").css("background-image","url(" + arr[0].imgSrc + ")");
                for(var i=0;i<arr.length;i++){
                    $("#productName").text(arr[i].productName);
                }

                $("#product").html("");
                for(var i=0;i<arr.length;i++){
                    var str = "  <div style=\"position: relative; height: auto;float:left; padding-right: 50px;\" class=\"product\">\n" +
                        "                            <div class=\"product_image\"><img height='212.5' width='212.5' src= "+arr[i].imgSrc+" alt='/images/shopping.svg' ></div>\n" +
                        "                            <div class=\"product_extra product_new\"><a>"+arr[i].description+"</a></div>\n" +
                        "                            <div class=\"product_content\">\n" +
                        "                                <div class=\"product_title\"><a href='/findProductDetail/"+arr[i].productId+"'>"+arr[i].productName+"</a></div>\n" +
                        "                                <div class=\"product_price\">$"+arr[i].salePrice+"</div>\n" +
                        "                            </div>\n" +
                        "                        </div>";
                    $("#product").append(str);
                }

            },
            error: function (e) {
                console.log(e.status);
                console.log(e.responseText);
            }
        });
    }

    /**
     * 页面跳转
     * @param data
     */
    function btnPage(data) {
        console.log("page",data);
        if(data=='-1'){
            pageNum=pageNum-1;
        }
        if(data=='+1'){
            pageNum=pageNum+1;
        }
        if(data=='1'){
            pageNum=1;
        }
        if(data=='2'){
            pageNum=2;
        }
        if (data=='3'){
            pageNum=3;
        }
        if(pageNum==0){
            pageNum=1;
        }
        console.log("pageNum:",pageNum);
        console.log("category2Id:",category2Id);
        console.log("id:",id);
        var req = {
            "category2Id": data,
            "category1Id": id,
            "pageNum":pageNum
        };
        $.ajax({
            type: "post",
            //数据，json字符串
            data: JSON.stringify(req),
            contentType: "application/json;charset=UTF-8",
            url: "/findProduct",
            success: function (result) {
                console.log("result:", result);
                pageNum=result.data.pageNum;
                var arr=result.data.list;
                console.log("arr",arr);
                $("#pages").text(result.data.pages);
                $("#total").text(result.data.total);
                $("#homeName").text(arr[0].productName);
                $("#homeDescription").text(arr[0].outline);
                $("#homeImg").css("background-image","url(" + arr[0].imgSrc + ")");
                for(var i=0;i<arr.length;i++){
                    console.log("productName:",arr[i].productName);
                    $("#productName").text(arr[i].productName);
                }
                $("#product").html("");
                for(var i=0;i<arr.length;i++){
                    var str = "  <div style=\"position: relative; height: auto;float:left; padding-right: 50px;\" class=\"product\">\n" +
                        "                            <div class=\"product_image\"><img height='212.5' width='212.5' src=\"/images/product_1.jpg\" alt=\"\" ></div>\n" +
                        "                            <div class=\"product_extra product_new\"><a>"+arr[i].description+"</a></div>\n" +
                        "                            <div class=\"product_content\">\n" +
                        "                                <div class=\"product_title\"><a href='/findProductDetail/"+arr[i].productId+"'>"+arr[i].productName+"</a></div>\n" +
                        "                                <div class=\"product_price\">$"+arr[i].salePrice+"</div>\n" +
                        "                            </div>\n" +
                        "                        </div>";
                    $("#product").append(str);
                }
            },
            error: function (e) {
                console.log(e.status);
                console.log(e.responseText);
            }
        });
    }

    function saveReport() {
        return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
    }
    function subscription(){
        $.ajax({
            //请求方式
            type: "get",
            //请求的媒体类型
            contentType: "application/json;charset=UTF-8",
            data:{"email":$("#email").val()},
            //请求地址
            url: "/subscription",
            //请求成功
            success: function (result) {
                alert(result)
            },
            //请求失败，包含具体的错误信息
            error: function (e) {
                console.log(e.status);
                console.log(e.responseText);
            }
        });
    }

    $.ajax({
        //请求方式
        type: "post",
        //请求的媒体类型
        contentType: "application/json;charset=UTF-8",
        //请求地址
        url: "/findProductFromCartCount",
        //请求成功
        success: function (result) {
            console.log("购物车数量：", result.data);
            $("#cartCount").text('('+result.data+')');
        },
        //请求失败，包含具体的错误信息
        error: function (e) {
            console.log(e.status);
            console.log(e.responseText);
        }
    });

</script>
</body>
</html>